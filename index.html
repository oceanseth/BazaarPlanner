<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="BazaarPlanner is a tool that helps you create, simulate, and share bazaar builds.">
        <meta name="keywords" content="bazaar planner, bazaar, builds, sharing, create bazaar builds, bazaar simulator, test bazaar builds">
        <meta name="author" content="SimplyStrong">
  
        <!-- Open Graph / Facebook Meta Tags -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://www.bazaarplanner.com/">
        <meta property="og:title" content="BazaarPlanner - Create and Share Bazaar Builds">
        <meta property="og:description" content="BazaarPlanner is a tool that helps you create, simulate, and share bazaar builds.">        <meta property="og:image" content="/images/preview.jpg">
    
        <!-- Twitter Meta Tags -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://www.bazaarplanner.com/">
        <meta name="twitter:title" content="BazaarPlanner - Create, Simulate, and Share Bazaar Builds">
        <meta name="twitter:description" content="BazaarPlanner is a tool that helps you create and share bazaar builds effortlessly. Plan and organize your ideal marketplace.">
        <meta name="twitter:image" content="/images/preview.jpg">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.5/seedrandom.min.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.css" />  
        <link rel="stylesheet" href="styles.css">
        <script type="module" src="/js/main.js"></script>
        <title>BazaarPlanner - Create, Simulate, and Share Bazaar Builds</title>
        <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5415281723709994"
     crossorigin="anonymous"></script>
    </head>
    <body>
        <h2 style="color:white;">BazaarPlanner</h2>
        <div id="Menu" style="display: flex; gap: 10px;">
            <!--<button onclick="showSection('library')" class="selected">Library</button>-->
            <button onclick="showSection('simulator')">Simulator</button>
            <button onclick="showSection('about')">About</button>
            <button onclick="showSection('faq')">FAQ</button>
            
    
            <div id="sign-in-status" style="margin-left: auto;"></div>
            <div id="account-details" style="margin-left: auto; display:none;"></div>
            <button onclick="login()" style="margin-left: auto;">Login</button>
        </div>
        <!-- FAQ Section -->
        <div id="faq" class="section" style="display: none;">
            <h1>FAQ</h1><ul class="faq-list">
                <li>
                <b>How do I use BazaarPlanner?</b><br>
                I used to enjoy importing a run from <a href="https://bazaartracker.gg/">BazaarTracker</a>, (before it was taken down)which will bring all items/skills from the most recent battle in your current run.
                <br>You can use the simulator to test out different positioning of items and see how they perform.
                <br>
                One great use would be someone sharing their build on youtube, and you want to try it out for yourself or tweak positioning of items, and learn why it works best one way over another.
                After moving items around, run a battle and see if the dps is higher or lower than the original build.<br>
                Remember, you can always add 'sparring partner' to the top board to test against a monster that will never die! How long can you survive the sandstorm?!
            </li>
            <li>
                <b>What is DPS/HPS/SPS?</b><br>

                DPS is damage per second, HPS is healing per second, and SPS is shield per second.<br>
                You can pause battle at any time to see the current DPS/HPS/SPS for each board.
            </li>
            <li>
                <b>How do I save my build?</b><br>
                You can save your build by clicking the "Save" button on the bottom board, which saves a json file you can load later. 
            </li>
            <li>
                <b>Why is the url changing?</b><br>
                The url changes whenever you change the boards, skills, or player data. It allows you to share the current state of the boards with others. I recommend creating a url from <a href="http://tinyurl.com">tinyurl.com</a> to make a nice short url that you can share on youtube video descriptions, blogs, etc.
            </li>
            <li>
                <b>Where can I get support/report bugs/ask questions?</b><br>
                Strong's discord is the best place to get support. <a href="https://discord.gg/8CJwZVj823">https://discord.gg/8CJwZVj823</a>
            </li>
            <li><b>Why isn't it working on my mobile device?</b><br>
                I have no plans to support mobile devices. 
            </li>
            <li>
                <b>Can I run the battle 100 times to see the avg number of wins? Or avg dps across all battles?</b><br>
                No, the simulator is designed to simulate a single battle. We don't want to affect the game negatively by, for example, identifying the optimal positioning by running such tasks in the background. This is up to you to discover/learn!
            </li>
            <li><b>Can you speed up the battle please? Or just give me a button to see the result?</b><br/>
                No, the simulator is designed to simulate a single battle. We don't want to affect the game negatively by, for example, identifying the optimal positioning by running such tasks in the background. This is up to you to discover/learn!
            </li>
            </ul>


        </div>
        <!-- About Section -->



        <div id="about" class="section" style="display: none;">

            <h1>About</h1>
            <p style="width:400px;">
                BazaarPlanner is a simulator for <A href="http://www.playthebazaar.com">The Bazaar</A>.
                It started as a way for "Strong" to teach "simply Noah" javascript (our discord names).
                Any donations will support his ongoing education, and the continued development of this tool. 
                If you've donated at least $1, (and logged in with google or the same email you used to donate) you will not be served google ads.
                <br/><br/>
                This project is currently in development. Many items and skills have yet to be coded. We'd like to enable some features to make it more useful.
            </p>
            <h1>Coming Soon</h1>
            <p style="width:400px;">
                <ul>
                    <li>1. Create a desktop client you can run to give a button that will bring your current board in game into bazaarplanner (by generating a url with the board data).</li>
                    <li>2. Awaiting game API (or ressurection of bazaar tracker), but some way to show a leaderboard of the top 100 builds seen on each day, by simulating battles against all other builds on that day submitted in the past month.</li>
                    <li>3. Community items/skills - enable a creator tool for community items/skills which you can test out in the sim and thumbs up/down, and show a ranking of all the items.</li>
                </ul>
                <b>Send other ideas and things you might want to see to @Strong on <a href="https://discord.gg/AfYdzr2C">his discord</a>!</b>
            </p>
            <div id="donate-button-container">
                <div id="donate-button"></div>
                <script src="https://www.paypalobjects.com/donate/sdk/donate-sdk.js" charset="UTF-8"></script>
                <script>
                PayPal.Donation.Button({
                env:'production',
                hosted_button_id:'B4LEV6GZB6YP2',
                image: {
                src:'https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif',
                alt:'Donate with PayPal button',
                title:'PayPal - The safer, easier way to pay online!',
                }
                }).render('#donate-button');
                </script>
            </div>
        </div>
        <!-- Simulator Section -->
        <div id="simulator" class="section polling">
            <div id="poll">
                <h1>Please Answer Poll Before Using</h1>
                I received a message from Reynad, the developer of Bazaar.<br/><br/>
                <i><b>"Hey, unfortunately we need you to take down bazaarplanner.com.<br/>Combat simulation is a red line for us with external tools because it will harm gameplay a lot in the long run."</b></i><br/><br/>
                I think he's right that simulators can harm gameplay, but I'm not sure what we're doing here will do that. <br/>
                As long as the simulator is external, and mostly a tool to learn, perhaps it will increase engagement, enjoyment, and entertainment within the game when you play!
                <br><br>
                Also, even if they aren't online for YOU to use, people will be using them and passing them around. It's better to make it public than give the few players an advantage who privately use them.<br/>
                Check out <a href="https://www.twitch.tv/gaara/clip/ThoughtfulArtsyFiddleheadsPunchTrees-iOVtPoMxI5rSIU48">this reaction</a> from a pro hearthstone gamer when he found out the bazaartracker dev was banned from the subreddit for letting people know Reynad served a DMCA takedown.
                <br/><br/>
                <hr>
                <br/><br/>
                <h1>What do you think?</h1>
                <font size="+1">Will this site harm gameplay or your enjoyment of the game?</font><br/>
                <i>(you must login to vote)</i>
                <div class="poll-login">
                    <div id="firebaseui-auth-container"></div>
                </div>             
                <div class="poll-button-group">
                    <button onclick="poll(true)">Yes</button>
                    <button onclick="poll(false)">No</button>          
                </div>
            </div>

            <div id="simulator-controls">

                <input type="text" id="simulator-search-input" class="search-input" list="simulator-suggestions" onkeyup="search(this.value)" autocomplete="off" placeholder="Search items...">
                <div class="search-container">
                    <input type="text" 
                           autocomplete="off" 
                           class="search-input" 
                           id="monster-search"
                           onkeyup="searchMonsters(this.value)"
                           onfocus="searchMonsters('')"
                           onchange="if(monsters[this.value]){
                             loadMonsterBoard(monsters[this.value]); 
                             this.defaultValue = this.value;
                           }"
                           placeholder="Search monsters...">
                    <div id="monster-dropdown" class="search-dropdown"></div>
                    <!--coming soon
                    <div id="import" class="import"><input type="text" id="import-input" placeholder="Import from bazaar insights" onChange="importFromBazaarInsights(this.value)"/></div>
                    -->
                </div>
                <datalist id="simulator-suggestions"></datalist>
                <div id="copy-url-container"><button onclick="getTinyUrl()">Get Tiny URL</button></div>
            </div>
            <div style="display: flex; gap: 20px;">
                <div id="simulator-items">                    
                    <div id="simulator-itemsList"></div>
                </div>
                <div style="flex-grow: 1;">                    
                    <div class="board-container">
                       <div id="t" class="board">
                            <!-- Slots will be generated here -->
                        </div>
                        <div class="board-controls">
                            <button onclick="Board.getBoardFromId('t').clear()">Clear</button>
                            <button onclick="Board.getBoardFromId('t').save()">Save</button>
                            <button onclick="Board.getBoardFromId('t').load()">Load</button>
                            <button onclick="Board.getBoardFromId('t').importFromBazaarTracker()">Import</button>                            
                        </div>
                    </div>
                    <div class="board-container">
                        <div id="b" class="board">
                            <!-- Slots will be generated here -->
                        </div>
                        <div class="board-controls">
                            <button onclick="Board.getBoardFromId('b').clear()">Clear</button>
                            <button onclick="Board.getBoardFromId('b').save()">Save</button>
                            <button onclick="Board.getBoardFromId('b').load()">Load</button>
                            <button onclick="Board.getBoardFromId('b').importFromBazaarTracker()">Import</button>
                        </div>
                    </div>
                </div>
                
            </div>
            <button onclick="mainBattle.startBattle()" class="battle-button">Start Battle</button>
            <button onclick="mainBattle.resetBattle()" class="battle-button">Reset Battle</button>
            <div id="combat-log-div"><textarea id="combat-log"></textarea></div>
        </div>

        <!-- Library Section 
        <div id="library" class="section">
            <h2>Library</h2>
            <input type="text" id="library-search-input" gitclass="search-input" list="search-suggestions" onkeyup="search(this.value)" placeholder="Search...">
            <datalist id="search-suggestions"></datalist>
            <div>
                <h3>Monsters</h3>
                <div id="monstersList"></div>
            </div>
            <div>
                <h3>Items</h3>
                <div id="itemsList"></div>
            </div>
            <div>
                <h3>Skills</h3>
                <div id="skillsList"></div>
            </div>
        </div>
        -->
    </body>
</html> 
